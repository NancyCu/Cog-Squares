<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Bowl Squares (SEA vs NE)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-gradient: linear-gradient(135deg, #0f172a 0%, #1e1b4b 100%);
            --card-bg: rgba(30, 41, 59, 0.7); /* Glass effect */
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --accent: #60a5fa;
            --highlight: #ef4444;
            --winner-gold: #fbbf24;
            --border: 1px solid rgba(255, 255, 255, 0.1);
        }

        * { box-sizing: border-box; }

        body {
            background: var(--bg-gradient);
            color: var(--text-main);
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            margin: 0;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* --- Scoreboard (Mobile Friendly) --- */
        .scoreboard {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 15px;
            border-radius: 16px;
            width: 100%;
            max-width: 800px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border: var(--border);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .team { text-align: center; width: 30%; }
        .team img { width: 45px; height: 45px; object-fit: contain; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5)); }
        #team1-name,
        #team2-name { font-size: 0.9rem; font-weight: 700; margin-top: 5px; color: var(--text-muted); }

        .score-container { text-align: center; width: 40%; }
        .score { font-size: 2.5rem; font-weight: 800; font-variant-numeric: tabular-nums; letter-spacing: -1px; text-shadow: 0 2px 10px rgba(0,0,0,0.3); }

        .meta { display: flex; flex-direction: column; align-items: center; gap: 4px; }
        #clock { font-size: 0.8rem; color: var(--accent); font-weight: 600; text-transform: uppercase; }
        .live-badge { background: var(--highlight); color: white; padding: 2px 8px; border-radius: 99px; font-size: 0.65rem; font-weight: 800; display: none; box-shadow: 0 0 10px var(--highlight); animation: pulse-red 2s infinite; }

        /* --- Winner Banner --- */
        .winner-banner {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 12px 20px;
            width: 100%;
            max-width: 800px;
            text-align: center;
            font-size: 1.1rem;
            font-weight: 800;
            border-radius: 12px;
            margin-bottom: 15px;
            box-shadow: 0 10px 15px -3px rgba(16, 185, 129, 0.4);
            display: none;
            animation: slide-down 0.5s ease-out;
            border: 1px solid rgba(255,255,255,0.2);
        }

        /* --- The Grid (Scrollable Wrapper) --- */
        .grid-wrapper {
            width: 100%;
            max-width: 900px;
            overflow-x: auto; /* Allows horizontal scroll on mobile */
            padding-bottom: 20px; /* Space for scrollbar */
            -webkit-overflow-scrolling: touch; /* Smooth scroll on iOS */
        }

        .grid-container {
            display: grid;
            grid-template-columns: 35px repeat(10, minmax(45px, 1fr)); /* Min 45px width keeps names readable */
            gap: 3px;
            min-width: 500px; /* Forces scroll on small phones */
        }

        /* --- Headers & Cells --- */
        .header-cell {
            background: rgba(30, 41, 59, 0.9);
            color: var(--accent);
            font-weight: 900;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 45px;
            border-radius: 6px;
            font-size: 1.2rem;
            border: var(--border);
        }

        .header-input {
            width: 100%;
            height: 100%;
            background: transparent;
            border: none;
            color: inherit;
            text-align: center;
            font: inherit;
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }

        .header-input:focus-visible {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
        }

        .square {
            background: rgba(51, 65, 85, 0.5);
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            border: 1px solid transparent;
            transition: all 0.2s;
        }

        .square input {
            width: 100%;
            height: 100%;
            background: transparent;
            border: none;
            text-align: center;
            color: #cbd5e1;
            font-size: 0.75rem;
            font-weight: 500;
            outline: none;
            padding: 0;
            cursor: default;
        }

        /* --- Active Winner Styles --- */
        .winner-cell {
            background: var(--winner-gold) !important;
            transform: scale(1.1);
            z-index: 10;
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.6);
            border: 2px solid white !important;
            animation: pop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .winner-cell input {
            color: #1e1b4b !important; /* Dark text on gold bg */
            font-weight: 900 !important;
            font-size: 0.9rem !important;
        }

        .winner-axis {
            background: var(--accent) !important;
            color: white !important;
            border-color: white !important;
            box-shadow: 0 0 10px var(--accent);
        }

        .corner {
            grid-column: 1; grid-row: 1;
            display: flex; align-items: center; justify-content: center;
            font-size: 0.6rem; color: var(--text-muted); font-weight: bold;
            opacity: 0.7;
        }

        .controls { margin-top: 20px; }
        button {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(255,255,255,0.2);
            color: var(--text-main);
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: background 0.2s;
        }
        button:hover { background: rgba(51, 65, 85, 1); }

        /* --- Animations --- */
        @keyframes pulse-red { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
        @keyframes pop { 0% { transform: scale(1); } 50% { transform: scale(1.15); } 100% { transform: scale(1.1); } }
        @keyframes slide-down { from { transform: translateY(-10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0s !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0s !important;
                scroll-behavior: auto !important;
            }
        }
    </style>
</head>
<body>

    <!-- Scoreboard Section -->
    <div class="scoreboard">
        <div class="team">
            <img id="team1-logo" src="" alt="">
            <div id="team1-name">AWAY</div>
        </div>
        <div class="score-container">
            <div style="display: flex; gap: 20px; align-items: center;">
                <div id="team1-score" class="score">0</div>
                <div class="meta">
                    <div id="clock">Loading...</div>
                    <span id="live-indicator" class="live-badge">LIVE</span>
                </div>
                <div id="team2-score" class="score">0</div>
            </div>
        </div>
        <div class="team">
            <img id="team2-logo" src="" alt="">
            <div id="team2-name">HOME</div>
        </div>
    </div>

    <div id="winner-banner" class="winner-banner">
        Waiting for Score...
    </div>

    <!-- The Grid -->
    <div style="width: 100%; max-width: 900px; margin-bottom: 5px; display: flex; justify-content: space-between;">
        <span style="font-weight: bold; color: #94a3b8;">LEFT: <span id="away-team-label">AWAY</span></span>
        <span style="font-weight: bold; color: #94a3b8;">TOP: <span id="home-team-label">HOME</span></span>
    </div>

    <div class="grid-wrapper">
        <div class="grid-container" id="grid">
            <!-- Javascript will build the grid here -->
        </div>
    </div>

    <div class="controls">
        <button onclick="window.location.reload()">Refresh Score</button>
    </div>

    <script>
        // --- CONFIGURATION ---
        // Using NFL Scoreboard API
        const API_URL = "https://site.api.espn.com/apis/site/v2/sports/football/nfl/scoreboard";

        // --- HARDCODED DATA ---
        // Top Axis (Patriots / NE): 8, 5, 6, 3, 2, 1, 7, 4, 9, 0
        let topAxis = ['8', '5', '6', '3', '2', '1', '7', '4', '9', '0'];
        
        // Left Axis (Seahawks / SEA): 8, 2, 5, 6, 3, 1, 9, 7, 4, 0
        let leftAxis = ['8', '2', '5', '6', '3', '1', '9', '7', '4', '0'];

        // Grid Data (Mapped exactly from your list)
        // Format: 'row-col': 'Name'
        let gridState = {
            // Row 0 (Left: 8)
            '0-0': 'üçÅ', '0-1': 'EZ', '0-2': 'SR', '0-3': 'MN', '0-4': 'LN', '0-5': 'HN', '0-6': 'Cyn', '0-7': 'SAU', '0-8': 'EM', '0-9': 'Cyn',
            
            // Row 1 (Left: 2)
            '1-0': 'Brian B', '1-1': 'Cyn', '1-2': 'Eli', '1-3': 'EZ', '1-4': 'MN', '1-5': 'EZ', '1-6': 'üçÅ', '1-7': 'SR', '1-8': 'MN', '1-9': 'Jamin',
            
            // Row 2 (Left: 5)
            '2-0': 'LN', '2-1': 'ZAN', '2-2': 'Eli', '2-3': 'üçÅ', '2-4': 'Eli', '2-5': 'MN', '2-6': 'Brian B', '2-7': 'EZ', '2-8': 'HN', '2-9': 'LN',
            
            // Row 3 (Left: 6)
            '3-0': 'EZ', '3-1': 'SR', '3-2': 'HN', '3-3': 'Brian B', '3-4': 'Cyn', '3-5': 'EZ', '3-6': 'ZAN', '3-7': 'LN', '3-8': 'SR', '3-9': 'üçÅ',
            
            // Row 4 (Left: 3)
            '4-0': 'MN', '4-1': 'Eli', '4-2': 'SAU', '4-3': 'EM', '4-4': 'MN', '4-5': 'CuViET', '4-6': 'LN', '4-7': 'Gr', '4-8': 'Eli', '4-9': 'ZAN',
            
            // Row 5 (Left: 1)
            '5-0': 'HN', '5-1': 'EZ', '5-2': 'HN', '5-3': 'EZ', '5-4': 'SR', '5-5': 'MN', '5-6': 'Eli', '5-7': 'üçÅ', '5-8': 'SAU', '5-9': 'MN',
            
            // Row 6 (Left: 9)
            '6-0': 'ZAN', '6-1': 'LN', '6-2': 'LN', '6-3': 'SR', '6-4': 'üçÅ', '6-5': 'EM', '6-6': 'Jamin', '6-7': 'SR', '6-8': 'Cyn', '6-9': 'Eli',
            
            // Row 7 (Left: 7)
            '7-0': 'SAU', '7-1': 'EZ', '7-2': 'Eli', '7-3': 'Brian B', '7-4': 'LN', '7-5': 'Brian B', '7-6': 'EM', '7-7': 'üçÅ', '7-8': 'LN', '7-9': 'Jev',
            
            // Row 8 (Left: 4)
            '8-0': 'SR', '8-1': 'EM', '8-2': 'MN', '8-3': 'Cyn', '8-4': 'SR', '8-5': 'EZ', '8-6': 'Jamin', '8-7': 'MN', '8-8': 'Cyn', '8-9': 'LN',
            
            // Row 9 (Left: 0)
            '9-0': 'Cyn', '9-1': 'üçÅ', '9-2': 'SAU', '9-3': 'Cyn', '9-4': 'üçÅ', '9-5': 'Eli', '9-6': 'SR', '9-7': 'ZAN', '9-8': 'Eli', '9-9': 'üçÅ'
        };

        let currentScore = { home: 0, away: 0 };

        // --- INIT ---
        function init() {
            buildGrid();
            fetchScores();
            setInterval(fetchScores, 15000); // 15s polling
        }

        function buildGrid() {
            const grid = document.getElementById('grid');
            grid.innerHTML = '';

            // 1. Top Left Corner
            const corner = document.createElement('div');
            corner.className = 'corner';
            corner.innerText = "SEA \\ NE";
            grid.appendChild(corner);

            // 2. Top Axis
            for (let i = 0; i < 10; i++) {
                const cell = document.createElement('div');
                cell.className = 'header-cell';
                cell.id = `top-${i}`;
                const input = document.createElement('input');
                input.className = 'header-input';
                input.value = topAxis[i]; // Read only
                input.readOnly = true;
                cell.appendChild(input);
                grid.appendChild(cell);
            }

            // 3. Rows
            for (let row = 0; row < 10; row++) {
                // Left Axis Cell
                const leftCell = document.createElement('div');
                leftCell.className = 'header-cell';
                leftCell.id = `left-${row}`;
                const leftInput = document.createElement('input');
                leftInput.className = 'header-input';
                leftInput.value = leftAxis[row]; // Read only
                leftInput.readOnly = true;
                leftCell.appendChild(leftInput);
                grid.appendChild(leftCell);

                // 10 Squares
                for (let col = 0; col < 10; col++) {
                    const square = document.createElement('div');
                    square.className = 'square';
                    square.id = `sq-${row}-${col}`;

                    const input = document.createElement('input');
                    input.value = gridState[`${row}-${col}`] || '';
                    input.readOnly = true;

                    square.appendChild(input);
                    grid.appendChild(square);
                }
            }
        }

        // --- API LOGIC ---
        async function fetchScores() {
            try {
                const res = await fetch(API_URL);
                const data = await res.json();

                // Simple check for first active/scheduled NFL game
                const game = data.events[0]; 
                const comp = game.competitions[0];
                const home = comp.competitors.find(c => c.homeAway === 'home');
                const away = comp.competitors.find(c => c.homeAway === 'away');

                document.getElementById('team1-name').innerText = away.team.abbreviation;
                document.getElementById('team2-name').innerText = home.team.abbreviation;
                document.getElementById('away-team-label').innerText = away.team.name;
                document.getElementById('home-team-label').innerText = home.team.name;

                document.getElementById('team1-logo').src = away.team.logo;
                document.getElementById('team2-logo').src = home.team.logo;

                document.getElementById('team1-score').innerText = away.score;
                document.getElementById('team2-score').innerText = home.score;

                document.getElementById('clock').innerText = game.status.type.detail;
                if(game.status.type.state === 'in') {
                    document.getElementById('live-indicator').style.display = 'inline-block';
                }

                currentScore.away = parseInt(away.score) || 0;
                currentScore.home = parseInt(home.score) || 0;

                highlightWinners();

            } catch (e) {
                console.error("Score fetch error", e);
                // Fallback if API fails
                document.getElementById('clock').innerText = "Check TV for Score";
            }
        }

        // --- HIGHLIGHT WINNER LOGIC ---
        function highlightWinners() {
            document.querySelectorAll('.winner-cell').forEach(el => el.classList.remove('winner-cell'));
            document.querySelectorAll('.winner-axis').forEach(el => el.classList.remove('winner-axis'));
            const banner = document.getElementById('winner-banner');
            banner.style.display = 'none';

            // Home (Top Axis) / Away (Left Axis)
            const lastDigitHome = currentScore.home % 10;
            const lastDigitAway = currentScore.away % 10;

            let winningColIndex = -1;
            let winningRowIndex = -1;

            for(let i=0; i<10; i++) {
                if(parseInt(topAxis[i]) === lastDigitHome) winningColIndex = i;
            }

            for(let i=0; i<10; i++) {
                if(parseInt(leftAxis[i]) === lastDigitAway) winningRowIndex = i;
            }

            if(winningColIndex !== -1 && winningRowIndex !== -1) {
                document.getElementById(`top-${winningColIndex}`).classList.add('winner-axis');
                document.getElementById(`left-${winningRowIndex}`).classList.add('winner-axis');

                const sq = document.getElementById(`sq-${winningRowIndex}-${winningColIndex}`);
                if(sq) {
                    sq.classList.add('winner-cell');

                    const winnerName = gridState[`${winningRowIndex}-${winningColIndex}`] || "Empty Square";
                    banner.innerText = "Current Winner: " + winnerName;
                    banner.style.display = 'block';
                }
            }
        }

        init();
    </script>
</body>
</html>
